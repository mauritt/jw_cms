{% extends 'base.html' %}
{% block body%}
<header>
    <div id=uploadArea>
        <form id="uploadForm" method="POST" action="" enctype="multipart/form-data" target = submission.frame onsubmit="uploadSuccess();">
        {% csrf_token %}
            <fieldset>
                <h2>ADD A VIDEO:</h2>
                <input id="inputFile" class="uploadInput" type="file" name="file" onchange='getUploadURL();'>
                <label for="inputFile" class="active">Choose File</label>
                <input class="uploadInput" id="uploadFile" type="submit">
                <label for="uploadFile" class="inactive" id="uploadLabel">Upload</label>
            </fieldset>
            <iframe name="submission.frame" hidden></iframe>
        </form>
        </div>
    <div id='searchArea'>
        <form name='searchForm' onsubmit='applySearch(); return false;' action='' method=''>
                <input type='text' name='searchField' id='searchField' value='SEARCH' onFocusIn="searchFocusChange(this);" onFocusOut="searchFocusChange(this);" style='color:grey;'>
                <input class='material-icons' id='searchSubmit' type='submit' name='searchSubmit'  value='search'>
        </form>
    </div>
</header>



<div id="videoList">
    <table id="videoTable">
        <tr id='listHeaders'>
            <th><input type="checkbox" name="selectAll" onchange="selectAll(this);"></th>
            <th>THUMBNAIL</th>
            <th class="sortHeader">
                <a id="title" href="" onclick="changeSortOrder(this); return false;" >
                TITLE
                <i class="material-icons" style="opacity: 100;">arrow_drop_up</i></a>
            </th>
            <th>KEY</th>
            <th class="sortHeader">
                <a id="duration" href="" onclick="changeSortOrder(this); return false;" >
                    DURATION
                <i class="material-icons" style="opacity: 0;">arrow_drop_up</i></a>
            </th>
            <th class="sortHeader">
                <a id ="date" href="" onclick="changeSortOrder(this); return false;" >
                    PUBLISH DATE
                <i class="material-icons" style="opacity: 0;">arrow_drop_up</i></a>
            </th>
        </tr>

        {% for video in videos %}
        <tr>
            <td><input type="checkbox" name="select" id="{{ video.key }}"></td>
            <td><img src="{{ video.thumbnails.720 }}" width = 70 /></td>
            <td class="title"><a href="./details/{{ video.key }}"> {{ video.title }} </a></td>
            <td>{{ video.key }}</td>
            <td>{{ video.duration }}</td>
            <td>{{ video.date }}</td>
        </tr>
        {% endfor %}
    </table>
</div>

{% endblock %}
